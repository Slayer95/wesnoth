#####
# API(s) being tested: CHECK_TRANSLATION
##
# Actions:
# Run macro on a non-existent sentence.
# Run macro on an identically-translated sentence for an unexpected language.
# Run macro on an identically-translated sentence for an expected language.
##
# Expected end state:
# Only the last case should run the ACTION parameter of CHECK_TRANSLATION.
#####
{GENERIC_UNIT_TEST "test_check_translation_macro" (
    [event]
        name=start

        {CHECK_TRANSLATION "wesnoth-none" "non-existent" (
            {FAIL}
        ) VERBATIM_LOCALES=none}

        {CHECK_TRANSLATION "wesnoth" "The Battle for Wesnoth" (
            {FAIL}
        ) VERBATIM_LOCALES=none}

        {CHECK_TRANSLATION "wesnoth" "The Battle for Wesnoth" (
            {VARIABLE translation_exists 1}
        )}

        {FAIL_IF_NOT translation_exists 1}
        {SUCCEED}
    [/event]
)}
